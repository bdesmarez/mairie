//= require foundation-wysihtml5
//= require foundation-wysihtml5/locales/fr-FR
$(window).load ( function(){

	// var wysihtml5Editor =
	// $('.wysihtml5').wysihtml5({
	// 	"size": 'tiny',
	// 	"stylesheets":  ["<%= asset_path('mailer_responsive') %>","<%= stylesheet_path('mailer_responsive_media') %>"], // optional, css to style the editor's content
	// 	"font-styles": true, //Font styling, e.g. h1, h2, etc. Default true
	// 	"emphasis": true, //Italics, bold, etc. Default true
	// 	"lists": true, //(Un)ordered lists, e.g. Bullets, Numbers. Default true
	// 	"html": true, //Button which allows you to edit the generated HTML. Default false
	// 	"link": true, //Button to insert a link. Default true
	// 	"image": true, //Button to insert an image. Default true,
	// 	"color": true //Button to change color of font
	// }).data("wysihtml5").editor;

	

	// Affichage du contenu du template dans content	
	$('#mailing_schedule_template_id').change(function() {
		// Si on a déjà un content renseigné
		if ((editor.getValue().length > 0 && confirm("You're gonna loose all your work in the content !")) || editor.getValue().length == 0) {
			$.get('/templates/' + $(this).val() + '.json', function(data) {
      	editor.setValue(data.body, true);
    	});
		}
	});

	
});
